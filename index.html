<html>
<head>
  <title>Rock Paper Scissors</title>
</head>
<body>
  <h1>Rock Paper Scissors Game</h1>
  <p>Welcome to Rock, Paper, Scissors! Please choose a move!</p>
  <div id='container'></div>
  <div id='buttons'>
    <button id='rock'>Rock</button>
    <button id='paper'>Paper</button>
    <button id='scissors'>Scissors</button>
  </div>

  <script>
  var rock = document.querySelector('#rock');
  var paper = document.querySelector('#paper');
  var scissors = document.querySelector('#scissors');
  var container = document.querySelector('#container');
  var playerWin = 0;
  var computerWin = 0;
  var score = document.createElement('p');
  var results = document.createElement('p');

  function displayScore() {
    score.textContent = `Player Wins: ${playerWin} Computer Wins: ${computerWin}`;
    container.appendChild(score);
    checkWinner(playerWin, computerWin);
  }

  function displayResult(num, playerSelection, computerSelection) {
    if (num === 1) {
      results.textContent = `You Win! ${playerSelection} beats ${computerSelection}.` ;
      results.style.backgroundColor = 'green';
      container.appendChild(results);
      playerWin++;
    }
    if (num === 0) {
      results.textContent = `You Tied! You both chose ${playerSelection}.`;
      results.style.backgroundColor = 'yellow';
      container.appendChild(results);
    }
    if (num === -1) {
      results.textContent = `You Lose! ${computerSelection} beats ${playerSelection}.`;
      results.style.backgroundColor = 'red';
      container.appendChild(results);
      computerWin++;
    }
    displayScore();
  }

  function resetGame() {
    playerWin = 0;
    computerWin = 0;
    score.textContent = `Player Wins: ${playerWin} Computer Wins: ${computerWin}`;
    container.appendChild(score);
  }

  function computerPlay() {
    var moves = ['ROCK', 'PAPER', 'SCISSORS'];
    action = moves[Math.floor(Math.random() * moves.length)];
    return action;
  }

  function playRound(playerSelection, computerSelection) {
    if (playerSelection == 'ROCK' && computerSelection == 'SCISSORS' ||
        playerSelection == 'SCISSORS' && computerSelection == 'PAPER' ||
        playerSelection == 'PAPER' && computerSelection == 'ROCK') {
          return 1;
        } else if (playerSelection == computerSelection) {
          return 0;
        } else {
          return -1;
        }
  }

  function checkWinner(playerWin, computerWin) {
      if (playerWin === 5) {
        alert('You beat the computer, yay!');
        resetGame();
      }
      if (computerWin === 5) {
        alert('You lose, boohoo!');
        resetGame();
      }
  }

  rock.addEventListener('click', event => {
    let computerSelection = computerPlay();
    let playerSelection = 'ROCK';
    let result = playRound(playerSelection, computerSelection);
    displayResult(result, playerSelection, computerSelection);
    })

  paper.addEventListener('click', event => {
    let computerSelection = computerPlay();
    let playerSelection = 'PAPER';
    let result = playRound(playerSelection, computerSelection);
    displayResult(result, playerSelection, computerSelection);
    })

  scissors.addEventListener('click', event => {
    let computerSelection = computerPlay();
    let playerSelection = 'SCISSORS';
    let result = playRound(playerSelection, computerSelection);
    displayResult(result, playerSelection, computerSelection);
    })

  </script>
</body>
</html>
